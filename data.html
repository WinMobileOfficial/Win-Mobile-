<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Control - GM Agency</title>
    <style>
        body { font-family: Arial, sans-serif; background-color: #f4f4f4; margin: 0; padding: 0; text-align: center; }
        .header { background-color: #ff6b6b; color: white; padding: 15px; font-weight: bold; }
        .admin-controls { background: white; padding: 15px; display: flex; justify-content: center; gap: 10px; flex-wrap: wrap; border-bottom: 2px solid #ddd; }
        table { width: 100%; border-collapse: collapse; background: white; font-size: 13px; margin-top: 10px; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #333; color: white; }
        .btn { padding: 6px 10px; border: none; border-radius: 4px; cursor: pointer; color: white; font-weight: bold; font-size: 11px; }
        .btn-winner { background-color: #f1c40f; color: black; }
        .btn-reset-top { background-color: #3498db; }
        .btn-reset-all { background-color: #2c3e50; }
        .btn-approve { background-color: #2ecc71; }
        .btn-reject { background-color: #e74c3c; }
        .btn-single-reset { background-color: #95a5a6; }
        .winner-row { background-color: #f1c40f !important; font-weight: bold; }
        .action-cell { display: flex; flex-direction: column; gap: 4px; }
    </style>
</head>
<body>

<div class="header">
    Admin Control (NayaPay Only)<br>
    <small>Account Holder: Muhammad Sarfraz</small>
</div>

<div class="admin-controls">
    <button class="btn btn-winner" onclick="pickWinner()">üéÅ PICK WINNER</button>
    <button class="btn btn-reset-top" onclick="resetWinner()">üîÑ RESET RECENT WINNER</button>
    <button class="btn btn-reset-all" onclick="resetAll()">üóëÔ∏è RESET ALL DATA</button>
</div>

<table>
    <thead>
        <tr>
            <th>Name</th>
            <th>Phone</th>
            <th>TID</th>
            <th>Action</th>
        </tr>
    </thead>
    <tbody id="participantTable">
        <tr id="row1">
            <td>Mummad Sohail</td>
            <td>03272299656</td>
            <td>Easypaisa account (Galt)</td>
            <td class="action-cell">
                <button class="btn btn-approve" onclick="approveEntry('row1')">Approve</button>
                <button class="btn btn-reject" onclick="rejectEntry('row1')">Reject</button>
                <button class="btn btn-single-reset" onclick="resetSingle('row1')">Reset</button>
            </td>
        </tr>
    </tbody>
</table>

<script>
    // 1. Random Winner Picker
    function pickWinner() {
        const rows = document.querySelectorAll("#participantTable tr");
        if (rows.length === 0) return alert("Koi data nahi hai!");
        rows.forEach(r => r.classList.remove("winner-row"));
        const randomIndex = Math.floor(Math.random() * rows.length);
        rows[randomIndex].classList.add("winner-row");
        alert("Winner Picked: " + rows[randomIndex].cells[0].innerText);
    }

    // 2. Reset Recent Winner (Yellow Highlight hatane ke liye)
    function resetWinner() {
        document.querySelectorAll(".winner-row").forEach(r => r.classList.remove("winner-row"));
        alert("Recent winner status reset!");
    }

    // 3. Reset All Data (Sari list khatam karne ke liye)
    function resetAll() {
        if(confirm("Kya aap saare participants ka data delete karna chahte hain?")) {
            document.getElementById("participantTable").innerHTML = "";
            alert("All participants deleted!");
        }
    }

    // 4. Approve Entry (Green karne ke liye)
    function approveEntry(rowId) {
        document.getElementById(rowId).style.backgroundColor = "#d4edda";
        alert("Entry Approved!");
    }

    // 5. Reject Entry (List se nikalne ke liye)
    function rejectEntry(rowId) {
        if(confirm("Ye galat entry hai, delete kar dein?")) {
            document.getElementById(rowId).remove();
            alert("Entry Deleted!");
        }
    }

    // 6. Single Reset (Sirf 1 bande ka status normal karne ke liye)
    function resetSingle(rowId) {
        const row = document.getElementById(rowId);
        row.style.backgroundColor = "white";
        row.classList.remove("winner-row");
        alert("Is entry ka status wapis normal ho gaya!");
    }
</script>

</body>
</html>
